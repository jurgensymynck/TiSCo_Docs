<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.11.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>TiSCo project: Digital Input &amp; Output</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">TiSCo project<span id="projectnumber">&#160;0.90-alpha</span>
   </div>
   <div id="projectbrief">A framework of robot control software and IT hardware.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.11.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',false,false,'search.php','Search',true);
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('_d_o_x_y__d_i_g_i_t_a_l__i_o.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<div><div class="header">
  <div class="headertitle"><div class="title">Digital Input &amp; Output</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><dl class="section version"><dt>Version</dt><dd>8/8/2024</dd></dl>
<center> <img src="DigitalIO-1.png" alt="TiSCo Digital I/O connections schematic" height="360" class="inline"/> </center><h1><a class="anchor" id="DOXY_DIGITAL_INPUTS"></a>
Digital Inputs</h1>
<p>There are sixteen digital inputs arranged in one 16 bit word: port A (lower byte) and port C (upper byte). They are configured with the input pull-up resistors activated, pulling the rest state of the inputs to +5 V. As of 15/07/2022, only port A is connected to an angled header on the Arduino board (see picture).</p>
<p>In COSMOS, the Digital Inputs can be read read with a CMD_FETCH_ROBOTDIGITALINPUTS command that returns a TLM_ROBOTDIGITALINPUTS telemetry packet.</p>
<h2><a class="anchor" id="DOXY_INPUT_SWITCH"></a>
Input Switches</h2>
<center> <img src="InputSwitchDebounce_comp_SCALED.jpg" alt="Electric diagram of the UV-LED with resistor" height="240" class="inline"/> </center><center> <img src="Input_Switch_Debounce_Schematic.png" alt="Electric diagram of the Input Switch Debounce capacitor" height="240" class="inline"/> </center><p>Current robot hardware implementation connects a Normally Open (NO) switch (see image) between the input pin and GND level. An activated input results in 0 V on the pin (GND level). This voltage level is registered as a zero in the ports input registers (PINA and PINC).</p>
<p>The Digital Input word is the <em>logical</em> interpretation of the actual PINA and PINC registers, which means:</p><ul>
<li>zero, False: means NO input,</li>
<li>one, True : means Input.</li>
</ul>
<p>The <em>logical</em> version of Digital Inputs is the inverse of the actual measured voltage levels on the pins, so long as the correct input switch wiring is observed.</p>
<h1><a class="anchor" id="DOXY_DIGITAL_OUTPUTS"></a>
Digital Outputs</h1>
<p>There are eight digital outputs; port L. As is standard with the Arduino, the rest state of an output pin is Low (0 V).</p>
<p>The Digital Outputs can be set via a CMD_SET_ROBOTDIGITALOUTPUTS command. Reading back the actual output port register is done by sending a CMD_FETCH_ROBOTDIGITALOUTPUTS command that returns a TLM_ROBOTDIGITALOUTPUTS telemetry packet.</p>
<p>Current robot hardware implementation connects a load (an UV-LED in this case) between the output pin and GND level. An activated output results in +5 V on the pin, activating the load and activating the LED.</p>
<dl class="section warning"><dt>Warning</dt><dd>The maximum current limit for sinking (IOL) or sourcing (IOH) a load connected to a single pin is 20 mA! The sum of all IOL and IOH currents should not exceed 100 mA in most cases!</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a href="https://www.microchip.com/en-us/product/atmega2560">ATmega2560</a> datasheet; "31.1 DC Characteristics" for exact current limits.</dd></dl>
<h2><a class="anchor" id="UVLED_SCHEM_5V"></a>
Electric diagram of the UV-LED with resistor</h2>
<dl class="section warning"><dt>Warning</dt><dd>This setup is designed for the 5 V logic of the Arduino MEGA 2560 and is not compatible with, and may potentially damage, the 3.3V-based Adafruit Grand Central M4 Express featuring the SAMD51.</dd></dl>
<center> <img src="UVLED_conn_schematic_5V_avr2560.jpg" alt="Electric diagram of the UV-LED with resistor" height="240" class="inline"/> </center><p>The <em>logical</em> version of Digital Outputs is identical to the actual voltage levels that should be applied to the output pins, as long as the loads are 'sourced' (as opposed to 'sinking' the loads). This means:</p><ul>
<li>write zero (False) to output pin: no load activated (LED off).</li>
<li>write one (True) to output pin:load is activated (LED on). </li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Tue Aug 13 2024 13:00:13 for TiSCo project by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.11.0 </li>
  </ul>
</div>
</body>
</html>
